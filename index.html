<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Raiku Quiz</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0d0f1c 0%, #1a2a6c 100%);
      color: #fff;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .container {
      background: rgba(20, 20, 40, 0.95);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      width: 100%;
      max-width: 800px;
      padding: 30px;
    }
    .logo {
      font-size: 2.5rem;
      font-weight: bold;
      background: linear-gradient(45deg, #48c6ef, #6f86d6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: center;
      margin-bottom: 10px;
    }
    .subtitle { text-align: center; margin-bottom: 30px; color: #aaa; }
    .quiz-section { display: none; }
    .quiz-section.active { display: block; animation: fadeIn 0.4s ease; }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    .question { margin-bottom: 20px; font-size: 1.2rem; }
    .options { display: grid; gap: 12px; }
    .option {
      background: #1f2a48;
      border: 2px solid #333;
      border-radius: 12px;
      padding: 12px;
      cursor: pointer;
      transition: 0.2s;
    }
    .option:hover { border-color: #48c6ef; }
    .option.correct { border-color: #4caf50; }
    .option.incorrect { border-color: #f44336; }
    .btn {
      background: linear-gradient(45deg, #48c6ef, #6f86d6);
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      color: white;
      font-weight: bold;
      margin-top: 20px;
      cursor: pointer;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .role-info {
      background: #13192c;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      text-align: center;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
  <div class="container">
    <div class="logo">üåÄ RAIKU QUIZ</div>
    <div class="subtitle">Learn & Explore Raiku while playing!</div>

    <!-- Start Screen -->
    <div id="start-screen" class="quiz-section active">
      <h2>Welcome!</h2>
      <p>Answer Raiku-based questions and unlock role info after each question.</p>
      <button class="btn" onclick="startQuiz()">Start Quiz</button>
    </div>

    <!-- Quiz Screen -->
    <div id="quiz-screen" class="quiz-section">
      <div class="question" id="question-text"></div>
      <div class="options" id="options-container"></div>
      <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>Next</button>
    </div>

    <!-- Role Info Screen -->
    <div id="role-screen" class="quiz-section">
      <h2>üé≠ Discord Role Info</h2>
      <div class="role-info" id="role-info"></div>
      <button class="btn" onclick="continueQuiz()">Continue</button>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="quiz-section">
      <h2>Quiz Complete!</h2>
      <p id="results-message"></p>
      <div id="badge-display"></div>
      <canvas id="badge-canvas" width="600" height="400" style="display:none;"></canvas>
      <button class="btn" onclick="restartQuiz()">Play Again</button>
      <button class="btn" onclick="generateBadge()">Share on X üê¶</button>
    </div>
  </div>

  <script>
    const quizData = [
      { question: "What major problem does Raiku aim to solve?", options: ["Wallet UX & dev pain", "Just memes", "Only NFTs", "Only gaming"], correct: 0 },
      { question: "Which Raiku feature enables identity across dApps?", options: ["Raiku ID", "Raiku Wallet", "Raiku Token", "Raiku Gas"], correct: 0 },
      { question: "What consensus does Raiku leverage?", options: ["Raft", "Cosmos SDK + Tendermint", "Bitcoin PoW", "Ethereum PoS"], correct: 1 },
      { question: "Which SDK does Raiku use?", options: ["Cosmos SDK", "Solana SDK", "Near SDK", "Custom SDK"], correct: 0 },
      { question: "Raiku‚Äôs gas model allows?", options: ["Users never see gas fees", "Higher gas costs", "Manual fees", "Limited wallets"], correct: 0 },
      { question: "Raiku ensures dApps can‚Ä¶", options: ["Break identity", "Lose users", "Onboard users seamlessly", "Have no wallets"], correct: 2 },
      { question: "Raiku‚Äôs mission is‚Ä¶", options: ["Memes only", "Fixing UX & dev pain in Web3", "Focus only on NFTs", "Just gaming"], correct: 1 },
      { question: "Raiku OG role represents‚Ä¶", options: ["Admins", "Early passionate members shaping culture", "Bots", "Newbies"], correct: 1 },
      { question: "Which role is given after proving worth?", options: ["Ascendant", "Supercell", "Novice", "Team"], correct: 0 },
      { question: "What powers Raiku‚Äôs interoperability?", options: ["Cosmos SDK", "Polygon", "Solana", "Only Raiku chain"], correct: 0 }
    ];

    const roles = [
      "@Raiku Team ‚Äì Core members of the Raiku team",
      "@Mod ‚Äì Official mods for Raiku Discord",
      "@Ascendant ‚Äì Earned by proving yourself worthy",
      "@Raiku OG ‚Äì Passion, persistence, shaping culture",
      "@Supercell ‚Äì Recognized contributor to Raiku",
      "@Novice ‚Äì Entry-level after bot checks",
    ];

    let currentQuestion = 0;
    let score = 0;
    let badge = "";

    function startQuiz() {
      document.getElementById("start-screen").classList.remove("active");
      document.getElementById("quiz-screen").classList.add("active");
      loadQuestion();
    }

    function loadQuestion() {
      const q = quizData[currentQuestion];
      document.getElementById("question-text").textContent = q.question;
      const optionsContainer = document.getElementById("options-container");
      optionsContainer.innerHTML = "";
      q.options.forEach((opt, i) => {
        const el = document.createElement("div");
        el.className = "option";
        el.textContent = opt;
        el.onclick = () => selectOption(i);
        optionsContainer.appendChild(el);
      });
      document.getElementById("next-btn").disabled = true;
    }

    function selectOption(i) {
      const q = quizData[currentQuestion];
      const options = document.querySelectorAll(".option");
      options.forEach((opt, idx) => {
        if (idx === q.correct) opt.classList.add("correct");
        else if (idx === i) opt.classList.add("incorrect");
        opt.style.pointerEvents = "none";
      });
      if (i === q.correct) score++;
      document.getElementById("next-btn").disabled = false;
    }

    function nextQuestion() {
      document.getElementById("quiz-screen").classList.remove("active");
      document.getElementById("role-screen").classList.add("active");
      document.getElementById("role-info").textContent =
        roles[currentQuestion % roles.length];
    }

    function continueQuiz() {
      document.getElementById("role-screen").classList.remove("active");
      currentQuestion++;
      if (currentQuestion < quizData.length) {
        document.getElementById("quiz-screen").classList.add("active");
        loadQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      document.getElementById("results-screen").classList.add("active");
      const resultsMsg = `You scored ${score}/${quizData.length}!`;

      if (score >= 10) badge = "üåÄ Raiku Ascendant";
      else if (score >= 8) badge = "üå™Ô∏è Raiku Storm";
      else if (score >= 5) badge = "‚ö° Raiku Spark";
      else if (score >= 3) badge = "üå± Raiku Sprout";
      else badge = "";

      document.getElementById("results-message").textContent = resultsMsg;
      document.getElementById("badge-display").textContent = badge ? `Badge Earned: ${badge}` : "";
    }

    function generateBadge() {
      const canvas = document.getElementById("badge-canvas");
      const ctx = canvas.getContext("2d");

      // Background
      const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
      gradient.addColorStop(0, "#48c6ef");
      gradient.addColorStop(1, "#6f86d6");
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Logo
      ctx.font = "60px Segoe UI";
      ctx.fillStyle = "#fff";
      ctx.textAlign = "center";
      ctx.fillText("üåÄ", canvas.width/2, 80);

      // Badge Title
      ctx.font = "28px Segoe UI Bold";
      ctx.fillText("Raiku Quiz Badge", canvas.width/2, 150);

      // Score
      ctx.font = "22px Segoe UI";
      ctx.fillText(`Score: ${score}/10`, canvas.width/2, 200);

      // Badge Earned
      if (badge) {
        ctx.font = "26px Segoe UI Bold";
        ctx.fillText(badge, canvas.width/2, 260);
      }

      // Tagline
      ctx.font = "18px Segoe UI";
      ctx.fillText("Proud Raiku Explorer üåå", canvas.width/2, 320);

      // Footer
      ctx.font = "16px Segoe UI";
      ctx.fillText("@raikucom | www.raiku.com", canvas.width/2, 370);

      // Convert to PNG + Share
      const imageData = canvas.toDataURL("image/png");

      const link = document.createElement("a");
      link.href = imageData;
      link.download = "raiku-quiz-badge.png";
      link.click();

      const text = encodeURIComponent(`I just completed the Raiku Quiz and earned my badge! üöÄ Check out @raikucom üåÄ`);
      const url = "https://x.com/intent/tweet?text=" + text;
      window.open(url, "_blank");
    }

    function restartQuiz() {
      currentQuestion = 0;
      score = 0;
      badge = "";
      document.getElementById("results-screen").classList.remove("active");
      document.getElementById("start-screen").classList.add("active");
    }
  </script>
</body>
</html>
