<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Raiku Quiz</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0d0f1c 0%, #1a2a6c 100%);
      color: #fff;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .container {
      background: rgba(20, 20, 40, 0.95);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      width: 100%;
      max-width: 800px;
      padding: 30px;
    }
    .logo {
      font-size: 2.5rem;
      font-weight: bold;
      background: linear-gradient(45deg, #48c6ef, #6f86d6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: center;
      margin-bottom: 10px;
    }
    .subtitle { text-align: center; margin-bottom: 30px; color: #aaa; }
    .quiz-section { display: none; }
    .quiz-section.active { display: block; animation: fadeIn 0.4s ease; }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    .question { margin-bottom: 20px; font-size: 1.2rem; }
    .options { display: grid; gap: 12px; }
    .option {
      background: #1f2a48;
      border: 2px solid #333;
      border-radius: 12px;
      padding: 12px;
      cursor: pointer;
      transition: 0.2s;
    }
    .option:hover { border-color: #48c6ef; }
    .option.correct { border-color: #4caf50; }
    .option.incorrect { border-color: #f44336; }
    .btn {
      background: linear-gradient(45deg, #48c6ef, #6f86d6);
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      color: white;
      font-weight: bold;
      margin-top: 20px;
      cursor: pointer;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .role-info {
      background: #13192c;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      text-align: center;
    }
    input {
      padding: 10px;
      border-radius: 10px;
      border: none;
      width: 80%;
      margin: 15px auto;
      display: block;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">üåÄ RAIKU QUIZ</div>
    <div class="subtitle">Learn & Explore Raiku while playing!</div>

    <!-- Username Screen -->
    <div id="username-screen" class="quiz-section active">
      <h2>Enter your Username</h2>
      <input type="text" id="username-input" placeholder="Your name...">
      <button class="btn" onclick="goToStart()">Continue</button>
    </div>

    <!-- Start Screen -->
    <div id="start-screen" class="quiz-section">
      <h2>Welcome!</h2>
      <p>Answer Raiku-based questions. Earn badges & share your achievement!</p>
      <button class="btn" onclick="startQuiz()">Start Quiz</button>
    </div>

    <!-- Quiz Screen -->
    <div id="quiz-screen" class="quiz-section">
      <div class="question" id="question-text"></div>
      <div class="options" id="options-container"></div>
      <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>Next</button>
    </div>

    <!-- Role Info Screen -->
    <div id="role-screen" class="quiz-section">
      <h2>üé≠ Discord Role Info</h2>
      <div class="role-info" id="role-info"></div>
      <button class="btn" onclick="continueQuiz()">Continue</button>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="quiz-section">
      <h2>Quiz Complete!</h2>
      <p id="results-message"></p>
      <div id="badge-display"></div>
      <canvas id="badge-canvas" width="600" height="400" style="display:none;"></canvas>
      <button class="btn" onclick="restartQuiz()">Play Again</button>
      <button class="btn" onclick="generateBadge()">Share on X üê¶</button>
    </div>
  </div>

  <script>
    const quizData = [
  { question: "What is Raiku‚Äôs main purpose?",
    options: ["Decentralized finance","Deterministic execution for blockchain apps","NFT marketplace","Centralized storage"],
    correct: 1 },
  { question: "Which blockchain is Raiku built on?",
    options: ["Ethereum","Solana","Avalanche","Cardano"],
    correct: 1 },
  { question: "Raiku‚Äôs Coordination Engine is used for:",
    options: ["Mining new tokens","Guaranteeing transaction inclusion","Wallet management","Token swaps"],
    correct: 1 },
  { question: "The Validator Sidecar helps:",
    options: ["Increase validator revenue via predictable blockspace","Mint NFTs","Provide DeFi lending","Run gaming servers"],
    correct: 0 },
  { question: "Which is NOT a Raiku use case?",
    options: ["DeFi","AI agents","Centralized storage","Gaming"],
    correct: 2 },
  { question: "Raiku improves blockchain gaming by:",
    options: ["Instant asset transfers & multiplayer coordination","Token staking","NFT minting only","Creating wallets"],
    correct: 0 },
  { question: "Guaranteed transaction timing in DePIN ensures:",
    options: ["Faster token minting","Consistent real-world performance","Wallet security","Gas fee reduction"],
    correct: 1 },
  { question: "The Slot Marketplace allows:",
    options: ["Blockspace trading","Token swaps","NFT auctions","Wallet creation"],
    correct: 0 },
  { question: "Raiku recently raised funds from:",
    options: ["Pantera Capital","Binance","Coinbase Ventures","Solana Foundation"],
    correct: 0 },
  { question: "A key challenge Raiku addresses is:",
    options: ["Unpredictable execution","Inflation control","NFT scarcity","Wallet interoperability"],
    correct: 0 }
];

    const roles = [
      "@Raiku Team ‚Äì Core members of the Raiku team",
      "@Mod ‚Äì Official mods for Raiku Discord",
      "@Ascendant ‚Äì Earned by proving yourself worthy",
      "@Raiku OG ‚Äì Passion, persistence, shaping culture",
      "@Supercell ‚Äì Recognized contributor to Raiku",
      "@Novice ‚Äì Entry-level after bot checks",
    ];

    let username = "";
    let currentQuestion = 0;
    let score = 0;
    let badge = "";

    function goToStart() {
      username = document.getElementById("username-input").value.trim();
      if (!username) { alert("Enter username first!"); return; }
      document.getElementById("username-screen").classList.remove("active");
      document.getElementById("start-screen").classList.add("active");
    }

    function startQuiz() {
      document.getElementById("start-screen").classList.remove("active");
      document.getElementById("quiz-screen").classList.add("active");
      loadQuestion();
    }

    function loadQuestion() {
      const q = quizData[currentQuestion];
      document.getElementById("question-text").textContent = q.question;
      const optionsContainer = document.getElementById("options-container");
      optionsContainer.innerHTML = "";
      q.options.forEach((opt, i) => {
        const el = document.createElement("div");
        el.className = "option";
        el.textContent = opt;
        el.onclick = () => selectOption(i);
        optionsContainer.appendChild(el);
      });
      document.getElementById("next-btn").disabled = true;
    }

    function selectOption(i) {
      const q = quizData[currentQuestion];
      const options = document.querySelectorAll(".option");
      options.forEach((opt, idx) => {
        if (idx === q.correct) opt.classList.add("correct");
        else if (idx === i) opt.classList.add("incorrect");
        opt.style.pointerEvents = "none";
      });
      if (i === q.correct) score++;
      document.getElementById("next-btn").disabled = false;
    }

    function nextQuestion() {
      document.getElementById("quiz-screen").classList.remove("active");
      document.getElementById("role-screen").classList.add("active");
      document.getElementById("role-info").textContent =
        roles[currentQuestion % roles.length];
    }

    function continueQuiz() {
      document.getElementById("role-screen").classList.remove("active");
      currentQuestion++;
      if (currentQuestion < quizData.length) {
        document.getElementById("quiz-screen").classList.add("active");
        loadQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      document.getElementById("results-screen").classList.add("active");
      const resultsMsg = `${username}, you scored ${score}/${quizData.length}!`;

      if (score >= 10) badge = "üåÄ Raiku Ascendant";
      else if (score >= 8) badge = "üå™Ô∏è Raiku Storm";
      else if (score >= 5) badge = "‚ö° Raiku Spark";
      else if (score >= 3) badge = "üå± Raiku Sprout";
      else badge = "";

      document.getElementById("results-message").textContent = resultsMsg;
      document.getElementById("badge-display").textContent = badge ? `Badge Earned: ${badge}` : "";
    }

    function generateBadge() {
      const canvas = document.getElementById("badge-canvas");
      const ctx = canvas.getContext("2d");

      // Background with glow
      const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
      gradient.addColorStop(0, "#0d0f1c");
      gradient.addColorStop(1, "#1a2a6c");
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Neon border
      ctx.strokeStyle = "#48c6ef";
      ctx.lineWidth = 10;
      ctx.strokeRect(20, 20, canvas.width-40, canvas.height-40);

      // Logo
      ctx.font = "70px Segoe UI";
      ctx.fillStyle = "#48c6ef";
      ctx.textAlign = "center";
      ctx.shadowColor = "#6f86d6";
      ctx.shadowBlur = 20;
      ctx.fillText("üåÄ", canvas.width/2, 100);

      // Username
      ctx.font = "28px Segoe UI Bold";
      ctx.fillStyle = "#fff";
      ctx.shadowBlur = 0;
      ctx.fillText(username, canvas.width/2, 170);

      // Score
      ctx.font = "24px Segoe UI";
      ctx.fillText(`Score: ${score}/10`, canvas.width/2, 220);

      // Badge
      if (badge) {
        ctx.font = "30px Segoe UI Bold";
        ctx.fillStyle = "#FFD700";
        ctx.shadowColor = "#FFD700";
        ctx.shadowBlur = 15;
        ctx.fillText(badge, canvas.width/2, 280);
      }

      // Footer
      ctx.font = "18px Segoe UI";
      ctx.fillStyle = "#ccc";
      ctx.shadowBlur = 0;
      ctx.fillText("www.raiku.com | @raikucom", canvas.width/2, 360);

      const imageData = canvas.toDataURL("image/png");

      // Auto-download
      const link = document.createElement("a");
      link.href = imageData;
      link.download = "raiku-quiz-badge.png";
      link.click();

      // X share with link
      const text = encodeURIComponent(`I just completed the Raiku Quiz and earned my badge! üöÄ Check it out here: https://raiku-mind-game.vercel.app/ @raikucom`);
      const url = "https://x.com/intent/tweet?text=" + text;
      window.open(url, "_blank");
    }

    function restartQuiz() {
      currentQuestion = 0;
      score = 0;
      badge = "";
      document.getElementById("results-screen").classList.remove("active");
      document.getElementById("username-screen").classList.add("active");
    }
  </script>
</body>
</html>
